Shallow and Deep Copy
 
Shallow Copy
An object is created by simply copying the data of all variables of the original object. Here, the pointer will be copied but not the memory it points to. 
It means that the original object and the created copy will now point to the same memory address, which is generally not preferred. 
Since both objects will reference the exact memory location, then change made by one will reflect those change in another object as well. 
This can lead to unpleasant side effects if the elements of values are changed via some other reference.  Since we wanted to create an object replica, the Shallow copy will not fulfill this purpose.

Note: C++ compiler implicitly creates a copy constructor and assignment operator to perform shallow copy at compile time
A shallow copy can be made by simply copying the reference.

Example:

#include <iostream>
using namespace std;

class Demo {
public:
    int x;
    int *y;  // pointer

    Demo(int a, int b) {
        x = a;
        y = new int(b);
    }
};

int main() {

    Demo obj1(10, 20);

    // Shallow Copy (default copy constructor)
    Demo obj2 = obj1;

    cout << "Before change:" << endl;
    cout << "obj1.y = " << *obj1.y << endl;
    cout << "obj2.y = " << *obj2.y << endl;

    // Change obj2
    *obj2.y = 99;

    cout << "\nAfter change in obj2.y:" << endl;
    cout << "obj1.y = " << *obj1.y << endl;
    cout << "obj2.y = " << *obj2.y << endl;

    return 0;
}
⭐ Output (Concept)
obj1.y = 20
obj2.y = 20

After change:
obj1.y = 99   <-- changed!
obj2.y = 99




Deep Copy
An object is created by copying all the fields, and it also allocates similar memory resources with the same value to the object. 
To perform Deep copy, we need to explicitly define the copy constructor and assign dynamic memory as well if required. Also, 
it is necessary to allocate memory to the other constructors’ variables dynamically.
A deep copy means creating a new array and copying over the values.
Changes to the array values referred to will not result in changes to the array data referred to.

 
obj1.y = 20
obj2.y = 20

After change:
obj1.y = 20   <-- not changed
obj2.y = 99



| Feature           | Shallow Copy                   | Deep Copy                    |
| ----------------- | ------------------------------ | ---------------------------- |
| Memory Allocation | Copies only pointer            | Allocates new memory         |
| Independence      | Both objects share same data   | Each object has its own data |
